- versions: ["draft-2"]
  tags: [0, "stdout"]
  description: |
    Standard Lib: Basic test for stdout()
  inputs:
    wdl: standard_library/basic_stdout.wdl
    json: standard_library/basic_stdout.json
  outputs:
    stdoutWorkflow.get_stdout.check_this:
      type: "File"
      value: {md5sum: "91d69f7c47b6e7d5e4d81fab67f7f304"}
- tags: ["stderr"]
  versions: ["draft-2"]
  description: |
    Standard Lib: Basic test for stderr()
  inputs:
    wdl: standard_library/basic_stderr.wdl
    json: standard_library/basic_stderr.json
  outputs:
    stderrWorkflow.get_stderr.check_this:
      type: "File"
      value: {md5sum: "2332021c3feef276abe077f34276abfe"}
- tags: ["quote"]
  versions: ["1.1"]
  description: |
    Standard Lib: Basic test for quote()
  inputs:
    wdl: standard_library/basic_quote.wdl
    json: standard_library/basic_quote.json
  outputs:
    quoteWorkflow.str_output:
      value: ['"value1"', '"value2"', '"value3"']
      type: "Array[String]"
    quoteWorkflow.int_output:
      value: ['"1"', '"2"', '"-3"']
      type: "Array[String]"
    quoteWorkflow.float_output:
      value: ['"1.234000"', '"-0.543000"', '"-13.300000"']
      type: "Array[String]"
    quoteWorkflow.bool_output:
      value: ['"true"', '"false"', '"true"']
      type: "Array[String]"
    quoteWorkflow.file_output:
      value: ['"${WDL_DIR}/tests/version_1.1/standard_library/basic_quote.wdl"', '"${WDL_DIR}/tests/version_1.1/standard_library/basic_quote.json"', '"${WDL_DIR}/run.py"'] # files are relative path to input files, cannot go up in subdir, ex with run.py
      type: "Array[String]"
- versions: ["1.1"]
  tags: ["squote"]
  description: |
    Standard Lib: Basic test for squote()
  inputs:
    wdl: standard_library/basic_squote.wdl
    json: standard_library/basic_squote.json
  outputs:
    squoteWorkflow.str_output:
      value: ["'value1'", "'value2'", "'value3'"]
      type: "Array[String]"
    squoteWorkflow.int_output:
      value: ["'1'", "'2'", "'-3'"]
      type: "Array[String]"
    squoteWorkflow.float_output:
      value: ["'1.234000'", "'-0.543000'", "'-13.300000'"]
      type: "Array[String]"
    squoteWorkflow.bool_output:
      value: ["'true'", "'false'", "'true'"]
      type: "Array[String]"
    squoteWorkflow.file_output:
      value: ["'${WDL_DIR}/tests/version_1.1/standard_library/basic_quote.wdl'", "'${WDL_DIR}/tests/version_1.1/standard_library/basic_quote.json'", "'${WDL_DIR}/run.py'"]
      type: "Array[String]"
- versions: ["1.1"]
  tags: ["sep"]
  description: |
    Standard Lib: Basic test for sep()
  inputs:
    wdl: standard_library/basic_sep.wdl
    json: standard_library/basic_sep.json
  outputs:
    sepWorkflow.str_output:
      value: "a - b - c"
      type: "String"
- versions: ["1.0", "draft-2", "1.1"]
  tags: ["prefix"]
  description: |
    Standard Lib: Basic test for prefix()
  inputs:
    wdl: standard_library/basic_prefix.wdl
    json: standard_library/basic_prefix.json
  outputs:
    prefixWorkflow.str_output:
      value: ["-e value1", "-e value2", "-e value3"]
      type: "Array[String]"
- versions: ["draft-2", "1.0", "1.1"]
  tags: ["select_first"]
  description: |
    Standard Lib: Basic test for select_first()
  inputs:
    wdl: standard_library/basic_select_first.wdl
    json: standard_library/basic_select_first.json
  outputs:
    selectFirstWorkflow.int_output:
      value: 5
      type: "Int"
    selectFirstWorkflow.str_output:
      type: "String"
      value: "value1"
    selectFirstWorkflow.bool_output:
      type: "Boolean"
      value: true
    selectFirstWorkflow.float_output:
      type: "Float"
      value: 999.9999999
    selectFirstWorkflow.file_output:
      value: {md5sum: "337cf995cbd86664d941095a45e5e75d"}
      type: "File"
- versions: ["draft-2", "1.0", "1.1"]
  tags: ["select_all"]
  description: |
    Standard Lib: Basic test for select_all()
  inputs:
    wdl: standard_library/basic_select_all.wdl
    json: standard_library/basic_select_all.json
  outputs:
    selectAllWorkflow.int_output:
      type: "Array[Int]"
      value: [4, 5]
    selectAllWorkflow.float_output:
      type: "Array[Float]"
      value: [1.2345]
    selectAllWorkflow.str_output:
      type: "Array[String]"
      value: ["value1", "value3"]
    selectAllWorkflow.bool_output:
      type: "Array[Boolean]"
      value: [true, false]
    selectAllWorkflow.file_output:
      type: "Array[File]"
      value: [{md5sum: "c4b90e142a9ba0270f8137244caa246c"}]
- versions: ["1.1"]
  tags: ["suffix"]
  description: |
    Standard Lib: Basic test for suffix()
  inputs:
    wdl: standard_library/basic_suffix.wdl
    json: standard_library/basic_suffix.json
  outputs:
    suffixWorkflow.str_output:
      value: ["value1.txt", "value2.txt", "value3.txt"]
      type: "Array[String]"
- versions: ["draft-2", "1.0", "1.1"]
  tags: ["defined"]
  description: |
    Standard Lib: Basic test for defined()
  inputs:
    wdl: standard_library/basic_defined.wdl
    json: standard_library/basic_defined.json
  outputs:
    definedWorkflow.bool_output:
      value: true
      type: "Boolean"
    definedWorkflow.bool_output_none:
      value: false
      type: "Boolean"
- versions: ["draft-2", "1.0", "1.1"]
  tags: ["basename"]
  description: |
    Standard Lib: Basic test for basename()
  inputs:
    wdl: standard_library/basic_basename.wdl
    json: standard_library/basic_basename.json
  outputs:
    basenameWorkflow.str_output:
      type: "String"
      value: "file.txt"
    basenameWorkflow.str_output_removed:
      type: "String"
      value: "file"
    basenameWorkflow.str_output_file:
      type: "String"
      value: "basic_basename.json"
    basenameWorkflow.str_output_file_removed:
      type: "String"
      value: "basic_basename"
- versions: ["1.1", "1.0"]
  tags: ["fail"]
  description: |
    Basic failure test, with invalid arguments
  inputs:
    wdl: standard_library/basic_fail.wdl
    json: standard_library/basic_fail.json
  outputs:
    fail: {}
- versions: ["1.1"]
  tags: ["pair"]
  description: |
    Basic test for compound type pair
  inputs:
    wdl: semantics/basic_pair.wdl
    json: semantics/basic_pair.json
  outputs:
    pairWorkflow.pair_output:
      type: "Pair[Int, Int]"
      value: {left: 2, right: 4}
- versions: ["1.1"]
  tags: ["map"]
  description: |
    Basic test for compound type map
  inputs:
    wdl: semantics/basic_map.wdl
    json: semantics/basic_map.json
  outputs:
    mapWorkflow.map_output:
      type: "Map[Int, Int]"
      value: {"1": 2, "3": 4} # keys must be string
- versions: ["1.1"]
  tags: ["array_pair"]
  description: |
    Basic test for compound type array of pair
  inputs:
    wdl: semantics/basic_array_pair.wdl
    json: semantics/basic_array_pair.json
  outputs:
    arrayPairWorkflow.pair_output:
      type: "Array[Pair[Int,Int]]"
      value: [{left: 2, right: 4}]
- versions: ["1.0"]
  tags: ["object"]
  description: |
    Basic object test
    MiniWDL and toil-wdl-runner do not support Objects, so this will fail if ran by them
  inputs:
    wdl: semantics/basic_object.wdl
    json: semantics/basic_object.json
  outputs:
    objectWorkflow.obj_output:
      value: {"b": "hello", "a": 10, "f": {md5sum: "9eb48991c704af23036a7be959efd489"}}
      type:
        b: String
        a: Int
        f: File
- versions: ["1.1", "1.0"]
  tags: ["struct"]
  description: |
    Basic struct test
  inputs:
    wdl: semantics/basic_struct.wdl
    json: semantics/basic_struct.json
  outputs:
    structWorkflow.struct_output:
      type:
        sample_string: String
        sample_index: Int
      value: {"sample_string": "hello", "sample_index": 10}
- versions: ["1.1"]
  tags: ["nested_struct"]
  description: |
    Basic nested struct test
  inputs:
    wdl: semantics/basic_nested_struct.wdl
    json: semantics/basic_nested_struct.json
  outputs:
    structWorkflow.struct_output:
      type:
        sample_struct:
          sample_int: Int
          sample_string: String
        sample_int: Int
      value: {"sample_struct": {"sample_string": "Hello", "sample_int": 20}, "sample_int": 10}
- versions: ["draft-2"]
  tags: ["ceil"]
  description: |
    Basic ceil() test
  inputs:
    wdl: standard_library/basic_ceil.wdl
    json: standard_library/basic_ceil.json
  outputs:
    ceilWorkflow.get_ceil.the_ceiling:
      type: Int
      value: 12
- tags: ["string_placeholders"]
  versions: ["1.1"]
  description: |
    Parser: expression placeholders in strings in 1.1
  inputs:
    "wdl": "parser/string_placeholders_1.1.wdl"
    "json": "parser/empty.json"
  "outputs":
    placeholderWorkflow.ones:
      "type": "Array[String]"
      "value": ["1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1"]
- tags: ["string_placeholders_in_conditionals_1.1"]
  versions: ["1.1"]
  description: |
    Parser: expression placeholders in strings in conditional expressions in 1.1
  inputs:
    "wdl": "parser/string_placeholders_in_conditionals_1.1.wdl"
    "json": "parser/empty.json"
  "outputs":
    placeholderWorkflow.result:
      "type": "String"
      "value": "yep"
- tags: ["string_placeholders_in_conditionals_1.0"]
  versions: ["1.0"]
  description: |
    Parser: expression placeholders in strings in conditional expressions in 1.0, Cromwell style
    Fails with MiniWDL and toil-wdl-runner
  inputs:
    "wdl": "parser/string_placeholders_in_conditionals_1.0.wdl"
    "json": "parser/empty.json"
  "outputs":
    placeholderWorkflow.result:
      "type": "String"
      "value": "cromwell"
- tags: ["null_optional_vs_default_1.0"]
  versions: ["1.0"]
  description: |
    Semantics: passing a null optional value as an input to a task does not override a default value with null
  inputs:
    "wdl": "semantics/null_optional_vs_default_1.0.wdl"
    "json": "semantics/empty.json"
  "outputs":
    overrideWorkflow.result:
      "type": "Int"
      "value": 1
- tags: ["null_input_through_workflows_1.0"]
  versions: ["1.0"]
  description: |
    Semantics: passing a null optional value as an input to a workflow that calls subworkflows does not override a default value with null
  inputs:
    "wdl": "semantics/null_input_through_workflows_1.0.wdl"
    "json": "semantics/empty.json"
  "outputs":
    nullInput.result:
      "type": "Int"
      "value": 1
- tags: ["non_null_input_through_workflows_1.0"]
  versions: ["1.0"]
  description: |
    Semantics: passing a non-null optional value as an input to a workflow that calls subworkflows brings it through
  inputs:
    "wdl": "semantics/null_input_through_workflows_1.0.wdl"
    "json": "semantics/nonnull_input.json"
  "outputs":
    nullInput.result:
      "type": "Int"
      "value": 10
- description: |
    Integration test for GATK tutorial 1 test
  versions: ["1.0"]
  tags: ["t01", "integration"]
  inputs:
    wdl: integration/helloHaplotypeCaller.wdl
    json: integration/helloHaplotypeCaller_inputs.json
  outputs:
    helloHaplotypeCaller.haplotypeCaller.rawVCF:
      type: File
      value: {regex: "(20.*\n){411}"}
- description: |
    Integration test for GATK tutorial 2 test
  versions: ["1.0"]
  tags: ["t02", "integration"]
  inputs:
    wdl: integration/simpleVariantSelection.wdl
    json: integration/simpleVariantSelection_inputs.json
  outputs:
    SimpleVariantSelection.selectSNPs.rawSubset:
      type: File
      value: {regex: "(20.*\n){326}"}
    SimpleVariantSelection.selectIndels.rawSubset:
      type: File
      value: {regex: "(20.*\n){83}"}
    SimpleVariantSelection.haplotypeCaller.rawVCF:
      type: File
      value: {regex: "(20.*\n){411}"}
- description: |
    Integration test for GATK tutorial 3 test
  versions: ["1.0"]
  tags: ["t03", "integration"]
  inputs:
    wdl: integration/simpleVariantDiscovery.wdl
    json: integration/simpleVariantDiscovery_inputs.json
  outputs:
    SimpleVariantDiscovery.combine.filteredVCF:
      type: File
      value: {regex: "(20.*\n){409}"}
    SimpleVariantDiscovery.hardFilterSNP.filteredSNPs:
      type: File
      value: {regex: "(20.*\n){326}"}
    SimpleVariantDiscovery.selectIndels.rawSubset:
      type: File
      value: {regex: "(20.*\n){83}"}
    SimpleVariantDiscovery.selectSNPs.rawSubset:
      type: File
      value: {regex: "(20.*\n){326}"}
    SimpleVariantDiscovery.haplotypeCaller.rawVCF:
      type: File
      value: {regex: "(20.*\n){411}"}
    SimpleVariantDiscovery.hardFilterIndel.filteredIndels:
      type: File
      value: {regex: "(20.*\n){83}"}
- description: |
    Integration test for GATK tutorial 4 test
    Needs env MINIWDL__FILE_IO__ALLOW_ANY_INPUT=true and GATK_data.zip in main directory
  versions: ["1.0"]
  tags: ["t04", "integration"]
  inputs:
    wdl: integration/jointCallingGenotypes.wdl
    json: integration/jointCallingGenotypes_inputs.json
  outputs:
    jointCallingGenotypes.file_output:
      type: Array[File]
      value: [{regex: "(20.*\n){411}"}, {regex: "(20.*\n){411}"}, {regex: "(20.*\n){411}"}]
- description: |
    Integration test for ENCODE
  versions: ["1.0"]
  tags: ["encode", "integration"]
  inputs:
    wdl: integration/encode_mapping_workflow.wdl
    json: integration/encode_mapping_workflow.wdl.json
  outputs:
    encode_mapping_workflow.dup_file_qc:
      type: File
      value: {regex: "(Unknown Library\t193182\t0\t0\t0\t8271\t0\t0\t0.042815\t)"} # match numbers/metrics
    encode_mapping_workflow.filtered_map_stats:
      type: File
      value: {md5sum: "addd37e357001cc3e3c0a3c46f3611e7"}
    encode_mapping_workflow.pbc_file_qc:
      type: File
      value: {md5sum: "4da380fe67d5a4315428ecd1bab0040b"}
    encode_mapping_workflow.cc_file:
      type: File
      value: {md5sum: "699ae26015929398f166ec218be071b8"}
    encode_mapping_workflow.unfiltered_flagstats:
      type: File
      value: {md5sum: "090f33be43ed6324cc5d5059c5bbccc0"}
# tests from toil's original wdl tests
# some of these tests depend on write_json(), and cromwell and miniwdl perform write_json() differently
# miniwdl inserts whitespace in between elements when writing json and cromwell does not
- description: |
    Legacy test for type_pair_basic
    MiniWDL has trouble with write_json()
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/type_pair_basic.wdl
    json: legacy/type_pair_basic.json
  outputs:
    typePairWorkflow.copy_output.the_output:
      type: File
      value: {regex: '\[23,\s?"twenty-three",\s?"a\.bai",\s?{"left":\s?23,\s?"right":\s?"twenty-three"}\]'}
- description: |
    Legacy test for type_pair_with_files
    MiniWDL cannot run this as input files must be mounted before running, and the WDL calls a file by filename
  tags: ["legacy", "type_pair"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/type_pair_with_files.wdl
    json: legacy/type_pair_with_files.json
  outputs:
    typePairWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: 'a57c217bff53c247baabe3e910173a49'}
- description: |
    Legacy test for v1_spec_declaration
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/v1_spec_declaration.wdl
    json: legacy/v1_spec.json
  outputs:
    wf.x.value:
      type: String
      value: "Hello, x!"
    wf.y.value:
      type: String
      value: "Hello, y!"
    wf.z.the_output:
      type: File
      value: {md5sum: '5f2c4e74d1e58614b094b31790315324'}
- description: |
    Legacy test for sub_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/sub_as_input.wdl
    json: legacy/sub.json
  outputs:
    subWorkflow.get_sub.the_output:
      type: File
      value: {regex: 'test\.csv'}
- description: |
    Legacy test for sub_as_input_with_file
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/sub_as_input_with_file.wdl
    json: legacy/sub.json
  outputs:
    subWorkflow.get_sub.the_output:
      type: File
      value: {regex: 'test\.csv'}
- description: |
    Legacy test for size_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/size_as_command.wdl
    json: legacy/size.json
  outputs:
    sizeWorkflow.get_size.the_output:
      type: File
      value: {regex: '19\.0+$'}
- description: |
    Legacy test for size_as_output
    Cromwell appears to not support nonbinary units with size()
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/size_as_output.wdl
    json: legacy/empty.json
  outputs:
    sizeWorkflow.copy_output.the_output:
      type: File
      value: {regex: '22\.0+ 0\.0220* 0\.021484(375)?'}
    sizeWorkflow.get_size.created_file_size:
      type: Float
      value: 22.0
    sizeWorkflow.get_size.created_file_size_in_KB:
      type: Float
      value: 0.022
    sizeWorkflow.get_size.created_file_size_in_KiB:
      type: Float
      value: 0.021484375
- description: |
    Legacy test for ceil_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/ceil_as_input.wdl
    json: legacy/ceil.json
  outputs:
    ceilWorkflow.get_ceil.the_ceiling:
      type: File
      value: {regex: '12\.0+$'}
- description: |
    Legacy test for ceil_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/ceil_as_command.wdl
    json: legacy/ceil.json
  outputs:
    ceilWorkflow.get_ceil.the_ceiling:
      type: File
      value: {md5sum: '2737b49252e2a4c0fe4c342e92b13285'}
- description: |
    Legacy test for floor_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/floor_as_input.wdl
    json: legacy/floor.json
  outputs:
    floorWorkflow.get_floor.the_flooring:
      type: File
      value: {regex: '11\.0+$'}
- description: |
    Legacy test for floor_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/floor_as_command.wdl
    json: legacy/floor.json
  outputs:
    floorWorkflow.get_floor.the_flooring:
      type: File
      value: {md5sum: '166d77ac1b46a1ec38aa35ab7e628ab5'}
- description: |
    Legacy test for round_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/round_as_input.wdl
    json: legacy/round.json
  outputs:
    roundWorkflow.get_round.the_rounding:
      type: File
      value: {regex: '11\.0+$'}
- description: |
    Legacy test for round_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/round_as_command.wdl
    json: legacy/round.json
  outputs:
    roundWorkflow.get_round.the_rounding:
      type: File
      value: {md5sum: '166d77ac1b46a1ec38aa35ab7e628ab5'}
- description: |
    Legacy test for stdout_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/stdout_as_output.wdl
    json: legacy/stdout.json
  outputs:
    stdoutWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '91d69f7c47b6e7d5e4d81fab67f7f304'}
    stdoutWorkflow.get_stdout.check_this:
      type: File
      value: {md5sum: '91d69f7c47b6e7d5e4d81fab67f7f304'}
- description: |
    Legacy test for stderr_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/stderr_as_output.wdl
    json: legacy/stderr.json
  outputs:
    stderrWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '2332021c3feef276abe077f34276abfe'}
    stderrWorkflow.get_stderr.check_this:
      type: File
      value: {md5sum: '2332021c3feef276abe077f34276abfe'}
- description: |
    Legacy test for read_lines_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_lines_as_output.wdl
    json: legacy/read_lines.json
  outputs:
    readLinesWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '0cf95c7bec0f04798b2e95d762e2210e'}
    readLinesWorkflow.read_lines.out_array:
      type: Array[String]
      value: ["line 1", "\t\tline 2 with tabs", " line 3", "", "line 5"]
- description: |
    Legacy test for read_tsv_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_tsv_as_output.wdl
    json: legacy/read_tsv.json
  outputs:
    readTsvWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '577e5fb9bb016c922798424a3c82e742'}
    readTsvWorkflow.read_tsv.out_tsv:
      type: Array[Array[String]]
      value: [["1","2","3"],["4","5","6"],["7","8","9"]]
- description: |
    Legacy test for read_json_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_json_as_output.wdl
    json: legacy/read_json.json
  outputs:
    readJsonWorkflow.copy_output.the_output:
      type: File
      value: {regex: '{\"key1\":\s?\"value1\",\s?\"key2\":\s?\"value2\"}'}
    readJsonWorkflow.read_json.out_json:
      type: Map[String, String]
      value: {"key1": "value1", "key2": "value2"}
- description: |
    Legacy test for read_map_as_output
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_map_as_output.wdl
    json: legacy/read_map.json
  outputs:
    readMapWorkflow.copy_output.the_output:
      type: File
      value: {regex: 'key1\s+value1\s+key2\s+value2'}
    readMapWorkflow.read_map.out_map:
      type: Map[String, String]
      value: {"key1": "value1", "key2": "value2"}
- description: |
    Legacy test for read_int_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_int_as_command.wdl
    json: legacy/read_int.json
  outputs:
    readIntWorkflow.read_int.the_output:
      type: File
      value: {md5sum: '166d77ac1b46a1ec38aa35ab7e628ab5'}
- description: |
    Legacy test for read_string_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_string_as_command.wdl
    json: legacy/read_string.json
  outputs:
    readStringWorkflow.read_string.the_output:
      type: File
      value: {md5sum: '91d69f7c47b6e7d5e4d81fab67f7f304'}
- description: |
    Legacy test for read_float_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_float_as_command.wdl
    json: legacy/read_float.json
  outputs:
    readFloatWorkflow.read_float.the_output:
      type: File
      value: {regex: '11\.23450*$'}
- description: |
    Legacy test for read_boolean_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/read_boolean_as_command.wdl
    json: legacy/read_boolean.json
  outputs:
    readBooleanWorkflow.read_boolean.the_output:
      type: File
      value: {md5sum: '74d9a83219cabaab06a69fd318873f33'}
- description: |
    Legacy test for write_tsv_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/write_tsv_as_command.wdl
    json: legacy/write_tsv.json
  outputs:
    writeTsvWorkflow.write_tsv.the_output:
      type: File
      value: {md5sum: '23754c24ac7327768d56aa9909fb8473'}
- description: |
    Legacy test for write_json_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/write_json_as_command.wdl
    json: legacy/write_json.json
  outputs:
    writeJsonWorkflow.write_json.the_output:
      type: File
      value: {regex: '{\"key1\":\s?\"value1\",\s?\"key2\":\s?\"value2\"}'}
- description: |
    Legacy test for write_map_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/write_map_as_command.wdl
    json: legacy/write_map.json
  outputs:
    writeMapWorkflow.write_map.the_output:
      type: File
      value: {regex: 'key1\s+value1\nkey2\s+value2'}
- description: |
    Legacy test for range_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/range_as_input.wdl
    json: legacy/range.json
  outputs:
    rangeWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '4ae1ec070a2217ff003b2ea3631531ac'}
- description: |
    Legacy test for range_as_input, fail
  tags: ["legacy", "fail"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/range_as_input.wdl
    json: legacy/range_invalid.json
  outputs:
    fail: {}
- description: |
    Legacy test for length_as_input_with_map
  tags: ["legacy", "fail"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/length_as_input_with_map.wdl
    json: legacy/length.json
  outputs:
    fail: {}
- description: |
    Legacy test for write_lines_as_command
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/write_lines_as_command.wdl
    json: legacy/write_lines.json
  outputs:
    writeLinesWorkflow.write_lines.the_output:
      type: File
      value: {md5sum: '67c62663b722611ba87041eb05870eb9'}
- description: |
    Legacy test for range_as_input, range=0
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/range_as_input.wdl
    json: legacy/range_0.json
  outputs:
    rangeWorkflow.copy_output.the_output:
      type: File
      value: {regex: '\s?'}
- description: |
    Legacy test for transpose_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/transpose_as_input.wdl
    json: legacy/transpose.json
  outputs:
    transposeWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '7c72caeae4ed3a94a1c5c3f856466ebd'}
- description: |
    Legacy test for length_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/length_as_input.wdl
    json: legacy/length.json
  outputs:
    lengthWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '6d7fce9fee471194aa8b5b6e47267f03'}
- description: |
    Legacy test for length_as_input, fail
  tags: ["legacy", "fail"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/length_as_input.wdl
    json: legacy/length_invalid.json
  outputs:
    fail: {}
- description: |
    Legacy test for zip_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/zip_as_input.wdl
    json: legacy/zip.json
  outputs:
    zipWorkflow.copy_output.the_output:
      type: File
      value: {regex: '\[((({\"left)|(\"right))\":(\s?)([1-3],(\s?)|(\"[abc])\"},?(\s?))){6}\]'} # could be better
- description: |
    Legacy test for cross_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/cross_as_input.wdl
    json: legacy/cross.json
  outputs:
    crossWorkflow.copy_output.the_output:
      type: File
      value: {regex: '\[{\"left\":(\s?)1,\1\"right\":\1\"a\"},\1{\"left\":(\1)1,\1\"right\":\1\"b\"},\1{\"left\":(\1)2,\1\"right\":\1\"a\"},\1{\"left\":(\1)2,\1\"right\":\1\"b\"},\1{\"left\":(\1)3,\1\"right\":\1\"a\"},\1{\"left\":(\1)3,\1\"right\":\1\"b\"}\]'}
- description: |
    Legacy test for flatten_as_input
  tags: ["legacy"]
  versions: ['1.0', 'draft-2']
  inputs:
    wdl: legacy/flatten_as_input.wdl
    json: legacy/flatten.json
  outputs:
    flattenWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '6564a95855125852aca9934ef00ab87d'}
- description: |
    Legacy test for as_pairs_as_input
  tags: ["legacy"]
  versions: ['1.1']
  inputs:
    wdl: legacy/as_pairs_as_input.wdl
    json: legacy/as_pairs.json
  outputs:
    asPairsWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: 'e9f8872409ecc6ef06c505caa58265b6'}
- description: |
    Legacy test for as_map_as_input
    It looks like MiniWDL does not have the function as_map()
  tags: ["legacy"]
  versions: ['1.1']
  inputs:
    wdl: legacy/as_map_as_input.wdl
    json: legacy/as_map.json
  outputs:
    asMapWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: 'f2ac4e62ad3171bd856c5d70160f1052'}
- description: |
    Legacy test for keys_as_input
  tags: ["legacy"]
  versions: ['1.1']
  inputs:
    wdl: legacy/keys_as_input.wdl
    json: legacy/keys.json
  outputs:
    keysWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: '3a63b1c5da9cd4c9227c9d1ab4d67449'}
- description: |
    Legacy test for collect_by_key_as_input
  tags: ["legacy"]
  versions: ['1.1']
  inputs:
    wdl: legacy/collect_by_key_as_input.wdl
    json: legacy/collect_by_key.json
  outputs:
    collectByKeyWorkflow.copy_output.the_output:
      type: File
      value: {md5sum: 'cf373525532455655c9bc226c91f5842'}
- description: |
    MiniWDL self test
  tags: ["legacy", "self_test"]
  versions: ['1.0']
  inputs:
    wdl: legacy/miniwdl_self_test.wdl
    json: legacy/miniwdl_self_test_inputs.json
  outputs:
    hello_caller.messages:
      type: Array[String]
      value: ['Hello, Alyssa P. Hacker!', 'Hello, Ben Bitdiddle!']
    hello_caller.message_files:
      type: Array[File]
      value: [{md5sum: '112b774308dee425a0858f81f7f1637b'}, {md5sum: '1f5b27033872fd4f6b695df3520d9daa'}]
- description: |
    MD5 test
  tags: ["legacy"]
  versions: ['draft-2', '1.0']
  inputs:
    wdl: legacy/md5sum.wdl
    json: legacy/md5sum.json
  outputs:
    ga4ghMd5.value:
      type: File
      value: {md5sum: '24b6378740d9662c8f464364b10a133a'}
- description: |
    MD5 test with an empty file
  tags: ["legacy"]
  versions: ['draft-2', '1.0']
  inputs:
    wdl: legacy/md5sum.wdl
    json: legacy/md5sum.json
  outputs:
    ga4ghMd5.value:
      type: File
      value: {md5sum: '24b6378740d9662c8f464364b10a133a'}